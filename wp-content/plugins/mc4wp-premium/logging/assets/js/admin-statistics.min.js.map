{"version":3,"sources":["logging/assets/js/admin-statistics.js"],"names":["$","previousPoint","$lineToggles","$range","document","getElementById","$customRangeOptions","$graph","datasets","mc4wp_statistics_data","settings","mc4wp_statistics_settings","plotGraph","graphData","filter","each","push","this","value","plot","xaxis","mode","timeFormat","minTickSize","ticksize","yaxis","min","tickDecimals","series","lines","show","points","grid","hoverable","change","e","target","toggle","bind","event","pos","item","x","y","contents","xEl","yEl","innerText","toFixed","dataIndex","remove","datapoint","pageX","pageY","label","css","position","display","top","left","border","padding","background-color","opacity","appendTo","body","fadeIn","window","jQuery"],"mappings":"CAAA,SAAUA,GACT,aAKA,IAGIC,EAHAC,EAAeF,EAAE,gBACjBG,EAASH,EAAEI,SAASC,eAAe,sBACnCC,EAAsBN,EAAEI,SAASC,eAAe,qCAEhDE,EAASP,EAAEI,SAASC,eAAe,gBACnCG,EAAWC,uBAAyB,GACnCC,EAAWC,2BAA6B,GAK7C,SAASC,IACR,IAAIC,EAAY,GAEhBX,EAAaY,OAAO,YAAYC,KAAK,WACpCF,EAAUG,KAAKR,EAASS,KAAKC,UAG9BlB,EAAEmB,KACDZ,EACAM,EACA,CACCO,MAAO,CACNC,KAAM,OAGNC,WAAY,QACZC,YAAab,EAASc,UAEvBC,MAAO,CACNC,IAAK,EAAGC,aAAc,GAEvBC,OAAQ,CACPC,MAAO,CAAEC,MAAM,GACfC,OAAQ,CAAED,MAAM,IAEjBE,KAAM,CACLC,WAAW,KAkDf/B,EAAagC,OAAOtB,GACpBT,EAAO+B,OA/BP,SAAkCC,GACjC,IAAIL,EAA0B,WAAnBK,EAAEC,OAAOlB,MACpBZ,EAAoB+B,OAAQP,KA8B7BvB,EAAO+B,KAAK,YA3BZ,SAAmBC,EAAOC,EAAKC,GAC9B,IAnBoBC,EAAGC,EAAGC,EAmBtBC,EAAMzC,SAASC,eAAe,KAC9ByC,EAAM1C,SAASC,eAAe,KAIlC,GAHGwC,IAAOA,EAAIE,UAAYP,EAAIE,EAAEM,QAAQ,IACrCF,IAAOA,EAAIC,UAAYP,EAAIG,EAAEK,QAAQ,IAEpCP,GACH,GAAIxC,GAAiBwC,EAAKQ,UAAW,CACpChD,EAAgBwC,EAAKQ,UACrBjD,EAAE,YAAYkD,SAENT,EAAKU,UAAU,GAAvB,IACCR,EAAIF,EAAKU,UAAU,GA9BFT,EAgCLD,EAAKW,MAhCGT,EAgCIF,EAAKY,MAhCNT,EAgCaH,EAAKb,OAAO0B,MAAQ,KAAOX,EA/BlE3C,EAAE,wBAA0B4C,EAAW,UAAUW,IAAK,CACrDC,SAAU,WACVC,QAAS,OACTC,IAAKf,EAAI,EACTgB,KAAMjB,EAAI,EACVkB,OAAQ,iBACRC,QAAS,MACTC,mBAAoB,OACpBC,QAAS,KACPC,SAAS5D,SAAS6D,MAAMC,OAAO,WAyBjClE,EAAE,YAAYkD,SACdjD,EAAgB,OAWlBW,IAjGD,CAkGGuD,OAAOC","file":"admin-statistics.min.js","sourcesContent":["(function($) {\n\t'use strict';\n\n\t/**\n\t * Variables\n\t */\n\tvar $lineToggles = $(\".line-toggle\");\n\tvar $range = $(document.getElementById('mc4wp-graph-range'));\n\tvar $customRangeOptions = $(document.getElementById('mc4wp-graph-custom-range-options'));\n\tvar previousPoint;\n\tvar $graph = $(document.getElementById('mc4wp-graph'));\n\tvar datasets = mc4wp_statistics_data || {};\n \tvar settings = mc4wp_statistics_settings || {};\n\n\t/**\n\t * Functions\n\t */\n\tfunction plotGraph() {\n\t\tvar graphData = [];\n\n\t\t$lineToggles.filter(\":checked\").each(function() {\n\t\t\tgraphData.push(datasets[this.value]);\n\t\t});\n\n\t\t$.plot(\n\t\t\t$graph,\n\t\t\tgraphData,\n\t\t\t{\n\t\t\t\txaxis: {\n\t\t\t\t\tmode: \"time\",\n\t\t\t\t\t//min: startDate.getTime(),\n\t\t\t\t\t//max: endDate.getTime(),\n\t\t\t\t\ttimeFormat: \"%d/%b\",\n\t\t\t\t\tminTickSize: settings.ticksize\n\t\t\t\t},\n\t\t\t\tyaxis: {\n\t\t\t\t\tmin: 0, tickDecimals: 0\n\t\t\t\t},\n\t\t\t\tseries: {\n\t\t\t\t\tlines: { show: true },\n\t\t\t\t\tpoints: { show: true }\n\t\t\t\t},\n\t\t\t\tgrid: {\n\t\t\t\t\thoverable: true\n\t\t\t\t}\n\n\t\t\t}\n\t\t);\n\t}\n\n\tfunction showTooltip(x, y, contents) {\n\t\t$('<div class=\"tooltip\">' + contents + '</div>').css( {\n\t\t\tposition: 'absolute',\n\t\t\tdisplay: 'none',\n\t\t\ttop: y + 5,\n\t\t\tleft: x + 5,\n\t\t\tborder: '1px solid #fdd',\n\t\t\tpadding: '2px',\n\t\t\t'background-color': '#fee',\n\t\t\topacity: 0.80\n\t\t}).appendTo(document.body).fadeIn(200);\n\t}\n\n\tfunction toggleCustomRangeOptions(e) {\n\t\tvar show = e.target.value === 'custom';\n\t\t$customRangeOptions.toggle( show );\n\t}\n\n\tfunction plotHover(event, pos, item) {\n\t\tvar xEl = document.getElementById('x');\n\t\tvar yEl = document.getElementById('y');\n\t\tif(xEl) { xEl.innerText = pos.x.toFixed(2); }\n\t\tif(yEl) { yEl.innerText = pos.y.toFixed(2); }\n\n\t\tif (item) {\n\t\t\tif (previousPoint != item.dataIndex) {\n\t\t\t\tpreviousPoint = item.dataIndex;\n\t\t\t\t$(\".tooltip\").remove();\n\n\t\t\t\tvar x = item.datapoint[0],\n\t\t\t\t\ty = item.datapoint[1];\n\n\t\t\t\tshowTooltip( item.pageX, item.pageY, item.series.label + ': ' + y );\n\t\t\t}\n\t\t} else {\n\t\t\t$(\".tooltip\").remove();\n\t\t\tpreviousPoint = null;\n\t\t}\n\t}\n\n\t/**\n\t * Bind event handlers$graph\n\t */\n\t$lineToggles.change(plotGraph);\n\t$range.change(toggleCustomRangeOptions);\n\t$graph.bind(\"plothover\", plotHover);\n\n\tplotGraph();\n})(window.jQuery);\n"]}