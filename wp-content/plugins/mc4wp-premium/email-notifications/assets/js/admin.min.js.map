{"version":3,"sources":["email-notifications/assets/js/admin.js"],"names":["require","undefined","r","e","n","t","o","i","f","c","u","a","Error","code","p","exports","call","length","1","module","mount","document","getElementById","tags","tagOpen","tagClose","updateAvailableEmailTags","fields","mc4wp","forms","editor","query","tagName","getAttribute","toUpperCase","replace","indexOf","push","innerHTML","map","join","window","addEventListener","on","helpers","debounce"],"mappings":"CAAA,WAAe,IAAIA,OAAUC,GAA+C,SAASC,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAE,mBAAmBT,GAASA,EAAQ,IAAIQ,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGG,EAAE,OAAOA,EAAEH,GAAE,GAAI,IAAII,EAAE,IAAIC,MAAM,uBAAuBL,EAAE,KAAK,MAAMI,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEV,EAAEG,GAAG,CAACQ,QAAQ,IAAIZ,EAAEI,GAAG,GAAGS,KAAKF,EAAEC,QAAQ,SAASb,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,IAAIY,EAAEA,EAAEC,QAAQb,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGQ,QAAQ,IAAI,IAAIL,EAAE,mBAAmBV,GAASA,EAAQO,EAAE,EAAEA,EAAEF,EAAEY,OAAOV,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAA7b,CAA4c,CAACY,EAAE,CAAC,SAASlB,EAAQmB,EAAOJ,GACxiB,aAEA,IAAIK,EAAQC,SAASC,eAAe,+BAChCC,EAAO,GACPC,EAAU,IACVC,EAAW,IAEf,SAASC,IACR,IAAIC,EAASC,MAAMC,MAAMC,OAAOC,MAAM,UACtCR,EAAO,CAAC,SAER,IAAK,IAAIhB,EAAI,EAAGA,EAAIoB,EAAOV,OAAQV,IAAK,CAEvC,IAAIyB,EAAUL,EAAOpB,GAAG0B,aAAa,QAAQC,cAI7CF,EAAUA,EAAQG,QAAQ,KAAM,IAAIA,QAAQ,YAAa,OAErDZ,EAAKa,QAAQJ,GAAW,GAC3BT,EAAKc,KAAKL,GAIZZ,EAAMkB,UAAYf,EAAKgB,IAAI,SAAUP,GACpC,MAAO,uHAAyHR,EAAUQ,EAAUP,EAAW,SAC7Je,KAAK,KAGTC,OAAOC,iBAAiB,OAAQ,WAC/Bd,MAAMC,MAAMC,OAAOa,GAAG,SAAUf,MAAMgB,QAAQC,SAASnB,EAA0B,MACjFA,OAGC,KAAK,GAAG,CAAC,IAnCX","file":"admin.min.js","sourcesContent":["(function () { var require = undefined; var define = undefined; (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nvar mount = document.getElementById('email-message-template-tags');\nvar tags = [];\nvar tagOpen = '[';\nvar tagClose = ']';\n\nfunction updateAvailableEmailTags() {\n\tvar fields = mc4wp.forms.editor.query('[name]');\n\ttags = ['_ALL_'];\n\n\tfor (var i = 0; i < fields.length; i++) {\n\n\t\tvar tagName = fields[i].getAttribute('name').toUpperCase();\n\n\t\t// strip empty arrays []\n\t\t// add in semicolon for named array keys\n\t\ttagName = tagName.replace('[]', '').replace(/\\[(\\w+)\\]/, ':$1');\n\n\t\tif (tags.indexOf(tagName) < 0) {\n\t\t\ttags.push(tagName);\n\t\t}\n\t}\n\n\tmount.innerHTML = tags.map(function (tagName) {\n\t\treturn '<input readonly style=\"background: transparent; border: 0;\" onclick=\"this.select();\" onfocus=\"this.select()\" value=\"' + tagOpen + tagName + tagClose + '\" />';\n\t}).join(' ');\n}\n\nwindow.addEventListener('load', function () {\n\tmc4wp.forms.editor.on('change', mc4wp.helpers.debounce(updateAvailableEmailTags, 1000));\n\tupdateAvailableEmailTags();\n});\n\n},{}]},{},[1]);\n })();"]}