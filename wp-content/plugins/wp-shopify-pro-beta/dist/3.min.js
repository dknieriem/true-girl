(window.wpshopify=window.wpshopify||[]).push([[3],{"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/_state/context.js":
/*!***********************************************************************************************************************************!*\
  !*** /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/_state/context.js ***!
  \***********************************************************************************************************************************/
/*! exports provided: ProductBuyButtonContext */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProductBuyButtonContext", function() { return ProductBuyButtonContext; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar ProductBuyButtonContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext();\n\n\n//# sourceURL=webpack:////Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/_state/context.js?')},"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/index.jsx":
/*!****************************************************************************************************************************************!*\
  !*** /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/index.jsx + 12 modules ***!
  \****************************************************************************************************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/asyncToGenerator.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/extends.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/objectSpread.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/slicedToArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/regenerator/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/immutability-helper/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/filter.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/flatMap.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/groupBy.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/map.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/size.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/uniqBy.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-api/index.js */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/common/animations/index.js */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/common/hooks/index.js */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/common/products/index.js */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/common/utils/index.js */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/items/_state/context.js */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/notice/index.jsx */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/_state/context.js */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/_state/context.js because of /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/dropdown/index.jsx */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/_state/context.js because of /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/dropdown/index.jsx */
/*! ModuleConcatenation bailout: Cannot concat with /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/shop/_state/context.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/react/index.js (<- Module is not an ECMAScript module) */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/slicedToArray.js\nvar slicedToArray = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/slicedToArray.js");\nvar slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__("./node_modules/react/index.js");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/_state/context.js\nvar context = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/_state/context.js");\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/shop/_state/context.js\nvar _state_context = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/shop/_state/context.js");\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/items/_state/context.js\nvar items_state_context = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/items/_state/context.js");\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/quantity/label/index.jsx\n\n\nfunction ProductQuantityLabel(_ref) {\n  var showQuantityLabel = _ref.showQuantityLabel,\n      isShopReady = _ref.isShopReady,\n      label = _ref.label;\n  return showQuantityLabel && react_default.a.createElement("div", {\n    className: "wps-quantity-input wps-quantity-label-wrapper d-flex align-items-center",\n    "data-wps-is-ready": isShopReady ? \'1\' : \'0\'\n  }, react_default.a.createElement("label", {\n    htmlFor: "wps-product-quantity"\n  }, label));\n}\n\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/_state/context.js\nvar product_state_context = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/products/product/_state/context.js");\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/quantity/input/index.jsx\n\n\n\n\n\nfunction ProductQuantityInput(_ref) {\n  var minQuantity = _ref.minQuantity,\n      maxQuantity = _ref.maxQuantity,\n      isShopReady = _ref.isShopReady;\n\n  var _useContext = Object(react["useContext"])(product_state_context["ProductContext"]),\n      _useContext2 = slicedToArray_default()(_useContext, 1),\n      productState = _useContext2[0];\n\n  var _useContext3 = Object(react["useContext"])(context["ProductBuyButtonContext"]),\n      _useContext4 = slicedToArray_default()(_useContext3, 2),\n      buyButtonState = _useContext4[0],\n      buyButtonDispatch = _useContext4[1];\n\n  var isFirstRender = Object(react["useRef"])(true);\n  var element = Object(react["useRef"])();\n\n  var _useState = Object(react["useState"])(minQuantity),\n      _useState2 = slicedToArray_default()(_useState, 2),\n      quantityValue = _useState2[0],\n      setQuantityValue = _useState2[1];\n\n  Object(react["useEffect"])(function () {\n    handleQuantityChange();\n  }, [productState.addedToCart]);\n\n  function handleQuantityChange() {\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (!event) {\n      buyButtonDispatch({\n        type: \'UPDATE_QUANTITY\',\n        payload: Number(minQuantity)\n      });\n      setQuantityValue(minQuantity);\n    } else {\n      buyButtonDispatch({\n        type: \'UPDATE_QUANTITY\',\n        payload: Number(event.target.value)\n      });\n      setQuantityValue(event.target.value);\n    }\n  }\n\n  return react_default.a.createElement("div", {\n    className: "wps-quantity-input wps-quantity-input-wrapper",\n    "data-wps-is-ready": isShopReady ? \'1\' : \'0\'\n  }, react_default.a.createElement("input", {\n    ref: element,\n    type: "number",\n    name: "wps-product-quantity",\n    className: "wps-product-quantity wps-form-input",\n    value: quantityValue,\n    onChange: handleQuantityChange,\n    min: minQuantity,\n    max: maxQuantity ? maxQuantity : undefined\n  }));\n}\n\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/quantity/index.jsx\n\n\n\n\n\n\n\n\nfunction ProductQuantity() {\n  var _useContext = Object(react["useContext"])(context["ProductBuyButtonContext"]),\n      _useContext2 = slicedToArray_default()(_useContext, 1),\n      buyButtonState = _useContext2[0];\n\n  var _useContext3 = Object(react["useContext"])(_state_context["ShopContext"]),\n      _useContext4 = slicedToArray_default()(_useContext3, 1),\n      shopState = _useContext4[0];\n\n  var _useContext5 = Object(react["useContext"])(items_state_context["ItemsContext"]),\n      _useContext6 = slicedToArray_default()(_useContext5, 1),\n      itemsState = _useContext6[0];\n\n  return react_default.a.createElement("div", {\n    className: "wps-component wps-component-products-quantity",\n    "data-wps-is-component-wrapper": true,\n    "data-wps-product-id": buyButtonState.product.id,\n    "data-wps-post-id": ""\n  }, react_default.a.createElement("div", {\n    className: "wps-form-control row wps-product-quantity-wrapper m-0"\n  }, react_default.a.createElement(ProductQuantityLabel, {\n    showQuantityLabel: itemsState.componentOptions.showQuantityLabel,\n    isShopReady: shopState.isShopReady,\n    label: itemsState.componentOptions.quantityLabelText\n  }), react_default.a.createElement(ProductQuantityInput, {\n    minQuantity: itemsState.componentOptions.minQuantity,\n    maxQuantity: itemsState.componentOptions.maxQuantity,\n    isShopReady: shopState.isShopReady\n  })));\n}\n\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/extends.js\nvar helpers_extends = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/extends.js");\nvar extends_default = /*#__PURE__*/__webpack_require__.n(helpers_extends);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/objectSpread.js\nvar objectSpread = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/objectSpread.js");\nvar objectSpread_default = /*#__PURE__*/__webpack_require__.n(objectSpread);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/immutability-helper/index.js\nvar immutability_helper = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/immutability-helper/index.js");\nvar immutability_helper_default = /*#__PURE__*/__webpack_require__.n(immutability_helper);\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/_state/reducer.js\n\n\n\nfunction ProductOptionReducer(state, action) {\n  switch (action.type) {\n    case \'SET_SELECTED_OPTION\':\n      {\n        return objectSpread_default()({}, state, {\n          selectedOption: immutability_helper_default()(state.selectedOption, {\n            $set: action.payload\n          })\n        });\n      }\n\n    case \'SET_IS_OPTION_SELECTED\':\n      {\n        return objectSpread_default()({}, state, {\n          isOptionSelected: immutability_helper_default()(state.isOptionSelected, {\n            $set: action.payload\n          })\n        });\n      }\n\n    case \'TOGGLE_DROPDOWN\':\n      {\n        return objectSpread_default()({}, state, {\n          isDropdownOpen: immutability_helper_default()(state.isDropdownOpen, {\n            $set: action.payload\n          })\n        });\n      }\n\n    default:\n      {\n        throw new Error("Unhandled action type: ".concat(action.type, " in ProductOptionReducer"));\n      }\n  }\n}\n\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/_state/initial-state.js\nfunction ProductOptionInitialState(options) {\n  return {\n    isOptionSelected: false,\n    option: options.option,\n    dropdownElement: options.dropdownElement,\n    selectedOption: {},\n    isDropdownOpen: false\n  };\n}\n\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/_state/context.js\nvar option_state_context = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/_state/context.js");\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/_state/provider.jsx\n\n\n\n\n\n\n\nfunction ProductOptionProvider(props) {\n  var _React$useReducer = react_default.a.useReducer(ProductOptionReducer, ProductOptionInitialState(props.options)),\n      _React$useReducer2 = slicedToArray_default()(_React$useReducer, 2),\n      state = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var value = react_default.a.useMemo(function () {\n    return [state, dispatch];\n  }, [state]);\n  return react_default.a.createElement(option_state_context["ProductOptionContext"].Provider, extends_default()({\n    value: value\n  }, props));\n}\n\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/index.jsx\n\n\nvar ProductOptionDropdown = react_default.a.lazy(function () {\n  return Promise.all(/*! import() */[__webpack_require__.e(4), __webpack_require__.e(11)]).then(__webpack_require__.bind(null, /*! ./dropdown */ "../../../../../devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/dropdown/index.jsx"));\n});\n\nfunction ProductOption(_ref) {\n  var option = _ref.option;\n  var dropdownElement = Object(react["useRef"])();\n  return react_default.a.createElement(ProductOptionProvider, {\n    options: {\n      option: option,\n      dropdownElement: dropdownElement\n    }\n  }, react_default.a.createElement(ProductOptionDropdown, null));\n}\n\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/size.js\nvar size = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/size.js");\nvar size_default = /*#__PURE__*/__webpack_require__.n(size);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/groupBy.js\nvar groupBy = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/groupBy.js");\nvar groupBy_default = /*#__PURE__*/__webpack_require__.n(groupBy);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/map.js\nvar map = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/map.js");\nvar map_default = /*#__PURE__*/__webpack_require__.n(map);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/uniqBy.js\nvar uniqBy = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/uniqBy.js");\nvar uniqBy_default = /*#__PURE__*/__webpack_require__.n(uniqBy);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/filter.js\nvar filter = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/filter.js");\nvar filter_default = /*#__PURE__*/__webpack_require__.n(filter);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/flatMap.js\nvar flatMap = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/flatMap.js");\nvar flatMap_default = /*#__PURE__*/__webpack_require__.n(flatMap);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/common/products/index.js\nvar products = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/products/index.js");\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/options/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction allOptionsSelectedMatch(onlySelectedOptions, product) {\n  return size_default()(onlySelectedOptions) === product.options.length;\n}\n\nfunction onlyAvailableVariantsOptions(variants) {\n  return groupBy_default()(flatMap_default()(variants, function (variant) {\n    return variant.selectedOptions;\n  }), \'name\');\n}\n\nfunction onlyUniqueOptionValues(optionValues) {\n  return uniqBy_default()(optionValues, \'value\').filter(function (item) {\n    return item.value;\n  });\n}\n\nfunction formatAvailableOptions(availOptions) {\n  return map_default()(availOptions, function (optionValues, optionName) {\n    return {\n      name: optionName,\n      values: onlyUniqueOptionValues(optionValues)\n    };\n  });\n}\n\nfunction filterOnlyAvailableVariants(variants) {\n  return filter_default()(variants, function (v) {\n    return v.availableForSale;\n  });\n}\n\nfunction onlyAvailableOptionsFromVariants(variants) {\n  if (!variants.length) {\n    return false;\n  }\n\n  return formatAvailableOptions(onlyAvailableVariantsOptions(filterOnlyAvailableVariants(variants)));\n}\n/*\n\nIf this component is rendered, that means at least one variant is available for purchase\n\n*/\n\n\nfunction ProductOptions() {\n  var isFirstRender = Object(react["useRef"])(true);\n\n  var _useContext = Object(react["useContext"])(product_state_context["ProductContext"]),\n      _useContext2 = slicedToArray_default()(_useContext, 2),\n      productState = _useContext2[0],\n      productDispatch = _useContext2[1];\n\n  var _useContext3 = Object(react["useContext"])(context["ProductBuyButtonContext"]),\n      _useContext4 = slicedToArray_default()(_useContext3, 2),\n      buyButtonState = _useContext4[0],\n      buyButtonDispatch = _useContext4[1];\n\n  var options = onlyAvailableOptionsFromVariants(buyButtonState.product.variants);\n  Object(react["useEffect"])(function () {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    if (allOptionsSelectedMatch(buyButtonState.selectedOptions, buyButtonState.product)) {\n      buyButtonDispatch({\n        type: \'SET_ALL_SELECTED_OPTIONS\',\n        payload: true\n      });\n      productDispatch({\n        type: \'SET_SELECTED_VARIANT\',\n        payload: {\n          product: buyButtonState.product,\n          selectedOptions: buyButtonState.selectedOptions\n        }\n      });\n\n      if (wp.hooks) {\n        wp.hooks.doAction(\'before.product.addToCart\', buyButtonState);\n      }\n    } else {\n      buyButtonDispatch({\n        type: \'SET_ALL_SELECTED_OPTIONS\',\n        payload: false\n      });\n    }\n  }, [buyButtonState.selectedOptions]);\n  return options && react_default.a.createElement("div", {\n    className: "wps-component wps-component-products-options container-fluid",\n    "data-wps-is-component-wrapper": true\n  }, options.map(function (option) {\n    return react_default.a.createElement(ProductOption, {\n      key: option.name,\n      option: option\n    });\n  }));\n}\n\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/regenerator/index.js");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/asyncToGenerator.js");\nvar asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/common/animations/index.js\nvar animations = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/animations/index.js");\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-api/index.js + 16 modules\nvar wpshopify_api = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-api/index.js");\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/add-button/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ProductAddButton() {\n  var button = Object(react["useRef"])();\n  var isFirstRender = Object(react["useRef"])(false);\n  var animePulse = Object(animations["useAnime"])(animations["pulse"]);\n\n  var _useContext = Object(react["useContext"])(items_state_context["ItemsContext"]),\n      _useContext2 = slicedToArray_default()(_useContext, 1),\n      itemsState = _useContext2[0];\n\n  var _useContext3 = Object(react["useContext"])(product_state_context["ProductContext"]),\n      _useContext4 = slicedToArray_default()(_useContext3, 2),\n      productState = _useContext4[0],\n      productDispatch = _useContext4[1];\n\n  var _useContext5 = Object(react["useContext"])(context["ProductBuyButtonContext"]),\n      _useContext6 = slicedToArray_default()(_useContext5, 2),\n      buyButtonState = _useContext6[0],\n      buyButtonDispatch = _useContext6[1];\n\n  var _useContext7 = Object(react["useContext"])(_state_context["ShopContext"]),\n      _useContext8 = slicedToArray_default()(_useContext7, 2),\n      shopState = _useContext8[0],\n      shopDispatch = _useContext8[1];\n\n  var buttonStyle = {\n    backgroundColor: itemsState.componentOptions.addToCartButtonColor\n  };\n\n  function findVariantFromSelections() {\n    return Object(wpshopify_api["findVariantFromSelectedOptions"])(buyButtonState.product, buyButtonState.selectedOptions);\n  }\n\n  function findSingleVariantFromPayload() {\n    return buyButtonState.product.variants[0];\n  }\n\n  function handleClick(_x) {\n    return _handleClick.apply(this, arguments);\n  }\n\n  function _handleClick() {\n    _handleClick = asyncToGenerator_default()(\n    /*#__PURE__*/\n    regenerator_default.a.mark(function _callee(e) {\n      var variant, lineItem, productVariant;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault(); // check if all options are selected\n              // if some are not selected, highlight them / shake them\n\n              if (!buyButtonState.allOptionsSelected && productState.hasManyVariants) {\n                buyButtonDispatch({\n                  type: \'SET_MISSING_SELECTIONS\',\n                  payload: true\n                });\n              } else {\n                if (productState.hasManyVariants) {\n                  variant = findVariantFromSelections();\n                } else {\n                  variant = findSingleVariantFromPayload();\n                } // const variant = findVariantFromSelectedOptions(buyButtonState.product, buyButtonState.selectedOptions)\n\n\n                lineItem = {\n                  variantId: variant.id,\n                  quantity: buyButtonState.quantity\n                };\n                productVariant = Object(products["addProductDetailsToVariant"])(variant, buyButtonState.product);\n\n                if (wp.hooks) {\n                  wp.hooks.doAction(\'product.addToCart\', {\n                    checkoutId: shopState.checkoutId,\n                    lineItems: [lineItem],\n                    variants: [productVariant]\n                  });\n                }\n\n                buyButtonDispatch({\n                  type: \'SET_ALL_SELECTED_OPTIONS\',\n                  payload: false\n                });\n                buyButtonDispatch({\n                  type: \'REMOVE_SELECTED_OPTIONS\'\n                });\n                productDispatch({\n                  type: \'SET_ADDED_VARIANT\',\n                  payload: productVariant\n                });\n\n                if (wp.hooks) {\n                  wp.hooks.doAction(\'on.product.addToCart\', lineItem, productVariant);\n                }\n              }\n\n            case 2:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _handleClick.apply(this, arguments);\n  }\n\n  Object(react["useEffect"])(function () {\n    if (!shopState.isShopReady) {\n      return;\n    }\n\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    if (buyButtonState.allOptionsSelected) {\n      animePulse(button.current);\n    }\n  }, [buyButtonState.allOptionsSelected]);\n  return react_default.a.createElement("div", {\n    className: "wps-component wps-component-products-add-button wps-btn-wrapper",\n    "data-wps-is-component-wrapper": true,\n    "data-wps-product-id": buyButtonState.product.id,\n    "data-wps-post-id": ""\n  }, react_default.a.createElement("button", {\n    ref: button,\n    type: "button",\n    itemProp: "potentialAction",\n    itemScope: true,\n    itemType: "https://schema.org/BuyAction",\n    className: "wps-btn wps-btn-secondary wps-add-to-cart",\n    title: buyButtonState.product.title,\n    "data-wps-is-ready": shopState.isShopReady ? \'1\' : \'0\',\n    onClick: handleClick,\n    style: buttonStyle\n  }, itemsState.componentOptions.addToCartButtonText ? itemsState.componentOptions.addToCartButtonText : \'Add to cart\'));\n}\n\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/notice/index.jsx\nvar notice = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/notice/index.jsx");\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/_state/reducer.js\n\n\n\n\nfunction ProductBuyButtonReducer(state, action) {\n  switch (action.type) {\n    case \'SET_ALL_SELECTED_OPTIONS\':\n      return objectSpread_default()({}, state, {\n        allOptionsSelected: action.payload\n      });\n\n    case \'UNSET_SELECTED_OPTIONS\':\n      return objectSpread_default()({}, state, {\n        selectedOptions: immutability_helper_default()(state.selectedOptions, {\n          $unset: [action.payload]\n        })\n      });\n\n    case \'UPDATE_SELECTED_OPTIONS\':\n      return objectSpread_default()({}, state, {\n        selectedOptions: immutability_helper_default()(state.selectedOptions, {\n          $merge: action.payload\n        })\n      });\n\n    case \'REMOVE_SELECTED_OPTIONS\':\n      return objectSpread_default()({}, state, {\n        selectedOptions: immutability_helper_default()(state.selectedOptions, {\n          $set: {}\n        })\n      });\n\n    case \'SET_MISSING_SELECTIONS\':\n      return objectSpread_default()({}, state, {\n        missingSelections: action.payload\n      });\n\n    case \'SET_AVAILABLE_VARIANTS\':\n      return objectSpread_default()({}, state, {\n        availableVariants: immutability_helper_default()(state.product, {\n          $apply: function $apply(product) {\n            return Object(products["filterAvailableVariantsBySelectedOption"])(product, action.payload);\n          }\n        })\n      });\n\n    case \'UPDATE_QUANTITY\':\n      return objectSpread_default()({}, state, {\n        quantity: action.payload\n      });\n\n    default:\n      {\n        throw new Error("Unhandled action type: ".concat(action.type, " in ProductBuyButtonReducer"));\n      }\n  }\n}\n\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/_state/initial-state.js\nfunction ProductBuyButtonInitialState() {\n  var productState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return {\n    selectedOptions: {},\n    availableVariants: [],\n    allOptionsSelected: false,\n    missingSelections: false,\n    quantity: 1,\n    product: productState.payload ? productState.payload : false\n  };\n}\n\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/_state/provider.jsx\n\n\n\n\n\n\n\nfunction ProductBuyButtonProvider(props) {\n  var _React$useReducer = react_default.a.useReducer(ProductBuyButtonReducer, ProductBuyButtonInitialState(props.productState)),\n      _React$useReducer2 = slicedToArray_default()(_React$useReducer, 2),\n      state = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var value = react_default.a.useMemo(function () {\n    return [state, dispatch];\n  }, [state]);\n  return react_default.a.createElement(context["ProductBuyButtonContext"].Provider, extends_default()({\n    value: value\n  }, props));\n}\n\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/common/hooks/index.js\nvar hooks = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/hooks/index.js");\n\n// EXTERNAL MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/common/utils/index.js\nvar utils = __webpack_require__("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/utils/index.js");\n\n// CONCATENATED MODULE: /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ProductBuyButton() {\n  var _useContext = Object(react["useContext"])(_state_context["ShopContext"]),\n      _useContext2 = slicedToArray_default()(_useContext, 1),\n      shopState = _useContext2[0];\n\n  var _useContext3 = Object(react["useContext"])(items_state_context["ItemsContext"]),\n      _useContext4 = slicedToArray_default()(_useContext3, 1),\n      itemsState = _useContext4[0];\n\n  var _useContext5 = Object(react["useContext"])(product_state_context["ProductContext"]),\n      _useContext6 = slicedToArray_default()(_useContext5, 1),\n      productState = _useContext6[0];\n\n  return Object(hooks["usePortal"])(react_default.a.createElement("div", {\n    className: "wps-buy-button-wrapper",\n    "data-wps-is-ready": shopState.isShopReady ? \'1\' : \'0\',\n    "data-wps-component-order": "0"\n  }, react_default.a.createElement(ProductBuyButtonProvider, {\n    productState: productState\n  }, productState.payload.availableForSale ? react_default.a.createElement(react_default.a.Fragment, null, !itemsState.componentOptions.hideQuantity && react_default.a.createElement(ProductQuantity, null), productState.hasManyVariants && react_default.a.createElement(ProductOptions, null), react_default.a.createElement(ProductAddButton, null)) : react_default.a.createElement(notice["Notice"], {\n    type: "warning",\n    message: "Out of stock"\n  }))), Object(utils["findPortalElement"])(productState.element, itemsState.componentOptions.dropzoneProductBuyButton));\n}\n\n/* harmony default export */ var buy_button = __webpack_exports__["default"] = (ProductBuyButton);\n\n//# sourceURL=webpack:////Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/index.jsx_+_12_modules?')},"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/_state/context.js":
/*!******************************************************************************************************************************************!*\
  !*** /Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/_state/context.js ***!
  \******************************************************************************************************************************************/
/*! exports provided: ProductOptionContext */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProductOptionContext", function() { return ProductOptionContext; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar ProductOptionContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext();\n\n\n//# sourceURL=webpack:////Users/andrew/www/devil/devilbox-new/data/www/wpshopify-components/components/products/product/buy-button/option/_state/context.js?')}}]);