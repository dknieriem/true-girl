(window.wpshopify=window.wpshopify||[]).push([[15],{1386:function(e,t,n){"use strict";n.r(t);var c=n(51),a=n.n(c),u=n(69),r=n.n(u),o=n(6),p=n.n(o),l=n(0),E=n.n(l),s=n(372),T=n(61),i=n(39),y=n(45),f=n.n(y),_=n(36),d=n(63),h=E.a.lazy(function(){return n.e(14).then(n.bind(null,1382))}),C=E.a.lazy(function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,1381))}),b=E.a.lazy(function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,1380))}),O=E.a.lazy(function(){return n.e(11).then(n.bind(null,1378))});t.default=function(){var e=Object(l.useContext)(s.a),t=p()(e,2),n=t[0],c=t[1],u=Object(l.useContext)(T.a),o=p()(u,1)[0],y=Object(l.useRef)(),I=Object(l.useRef)(!0),S=Object(i.a)("update.checkout.attributes"),A=Object(i.a)("set.checkout.attributes"),j=Object(i.a)("set.checkout.note"),k=Object(i.a)("product.addToCart");function m(){return(m=r()(a.a.mark(function e(){var t,n,u,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.checkoutId){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(d.a)(Object(_.i)());case 4:t=e.sent,n=p()(t,2),u=n[0],r=n[1],u&&shopDispatch({type:"UPDATE_NOTICES",payload:{type:"error",message:u}}),c({type:"SET_CHECKOUT_CACHE",payload:{checkoutId:o.checkoutId}}),c({type:"SET_LINE_ITEMS_AND_VARIANTS",payload:{lineItems:{products:r},checkoutId:o.checkoutId}}),f()(r)?c({type:"SET_IS_CART_EMPTY",payload:!0}):c({type:"SET_IS_CART_EMPTY",payload:!1}),c({type:"SET_IS_CART_READY",payload:!0});case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(l.useEffect)(function(){!function(){m.apply(this,arguments)}()},[o.checkoutId]),Object(l.useEffect)(function(){I.current?I.current=!1:c({type:"UPDATE_CHECKOUT_ATTRIBUTES",payload:S})},[S]),Object(l.useEffect)(function(){I.current?I.current=!1:c({type:"SET_CHECKOUT_ATTRIBUTES",payload:A})},[A]),Object(l.useEffect)(function(){I.current?I.current=!1:c({type:"SET_CHECKOUT_NOTE",payload:j})},[j]),Object(l.useEffect)(function(){I.current?I.current=!1:(k&&(c({type:"UPDATE_LINE_ITEMS_AND_VARIANTS",payload:k}),c({type:"TOGGLE_CART",payload:!0})),f()(k)?c({type:"SET_IS_CART_EMPTY",payload:!0}):c({type:"SET_IS_CART_EMPTY",payload:!1}))},[k]),E.a.createElement("section",{ref:y,className:"wps-cart"},E.a.createElement(O,null),E.a.createElement(h,null),E.a.createElement(C,{isCartEmpty:n.isCartEmpty,checkoutCache:n.checkoutCache}),E.a.createElement(b,null))}}}]);