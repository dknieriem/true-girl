(window.wpshopify=window.wpshopify||[]).push([[16],{1391:function(e,t,a){"use strict";a.r(t);var n=a(6),o=a.n(n),c=a(0),r=a.n(c),l=a(1355),i=a(61),s=a(1354),p=a(171),u=a.n(p),O=a(45),d=a.n(O),E=a(50);function f(e){var t=e.variant,a=Object(c.useState)(!0),n=o()(a,2),p=n[0],O=n[1],f=Object(c.useRef)(!0),b=Object(c.useContext)(i.a),m=o()(b,2),v=(m[0],m[1],Object(c.useContext)(l.a)),w=o()(v,2),y=w[0],T=w[1],S=Object(c.useContext)(s.a),j=o()(S,2),_=j[0],C=j[1];return Object(c.useEffect)(function(){if(f.current)f.current=!1;else{var e=Object(E.c)(y.option.name,t.value),a=u()(_.availableVariants,e);O(void 0!==a)}},[_.availableVariants]),Object(c.useEffect)(function(){f.current?f.current=!1:d()(_.selectedOptions)&&O(!0)},[_.selectedOptions]),r.a.createElement("li",{itemProp:"category",className:"wps-product-variant wps-product-style wps-modal-close-trigger",onClick:function(){var e=Object(E.c)(y.option.name,t.value);C({type:"UPDATE_SELECTED_OPTIONS",payload:e}),T({type:"TOGGLE_DROPDOWN",payload:!1}),T({type:"SET_IS_OPTION_SELECTED",payload:!0}),T({type:"SET_SELECTED_OPTION",payload:e}),wp.hooks&&wp.hooks.doAction("on.product.variant.selection",e,y)},"data-wps-is-selectable":p},t.value)}var b=a(39);function m(){var e=Object(c.useRef)(!0),t=Object(c.useContext)(s.a),a=o()(t,2),n=(a[0],a[1]),i=Object(c.useContext)(l.a),p=o()(i,2),u=p[0],O=p[1];return Object(b.c)(u.dropdownElement,function(){O({type:"TOGGLE_DROPDOWN",payload:!1})},function(){return u.isDropdownOpen}),Object(c.useEffect)(function(){e.current?e.current=!1:n({type:"SET_AVAILABLE_VARIANTS",payload:u.selectedOption})},[u.selectedOption]),r.a.createElement("ul",{className:"wps-modal wps-variants","data-wps-modal-is-open":u.isDropdownOpen},u.option.values.map(function(e){return r.a.createElement(f,{key:e.value,variant:e})}))}var v=a(1383),w=r.a.lazy(function(){return a.e(17).then(a.bind(null,1387))});t.default=function(){var e=Object(c.useContext)(s.a),t=o()(e,2),a=t[0],n=t[1],i=Object(c.useContext)(l.a),p=o()(i,2),O=p[0],E=p[1],f=Object(c.useRef)(!0);return Object(c.useEffect)(function(){f.current?f.current=!1:void 0===u()(a.availableVariants,O.selectedOption)&&(E({type:"SET_IS_OPTION_SELECTED",payload:!1}),n({type:"UNSET_SELECTED_OPTIONS",payload:O.option.name}))},[a.availableVariants]),Object(c.useEffect)(function(){f.current?f.current=!1:d()(a.selectedOptions)&&E({type:"SET_IS_OPTION_SELECTED",payload:!1})},[a.selectedOptions]),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"wps-btn-dropdown","data-wps-is-selected":O.isOptionSelected,ref:O.dropdownElement},r.a.createElement(v.a,{visible:O.isDropdownOpen,animateFill:!1,placement:"bottom",allowHTML:!0,appendTo:"parent",animation:"shift-away",flip:!1,theme:"light",interactive:!0,inertia:!0,delay:[0,0],content:r.a.createElement(m,null)},r.a.createElement("span",null,r.a.createElement(w,null)))))}}}]);