(window.wpshopify=window.wpshopify||[]).push([[19],{1390:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a.n(n),r=a(0),s=a.n(r),o=a(84),i=a.n(o),u=a(371),m=a(33),l=a(61),g=s.a.createContext(),p=a(379),d=a(210),f=a(179),E=a(85);function b(e){var t=e.image,a=e.isFeatured,n=Object(r.useRef)(),o=Object(r.useContext)(l.a),i=c()(o,1)[0],b=Object(r.useContext)(m.a),h=c()(b,1)[0],I=Object(r.useContext)(u.a),y=c()(I,1)[0],j=Object(r.useContext)(g),w=c()(j,2),S=(w[0],w[1]),v=Object(r.useState)(F()),C=c()(v,2),T=C[0],x=C[1];function F(){return a?i.settings.productsImagesSizingToggle?Object(p.a)({src:t.src,width:i.settings.productsImagesSizingWidth,height:i.settings.productsImagesSizingHeight,crop:i.settings.productsImagesSizingCrop,scale:i.settings.productsImagesSizingScale}):t.src:i.settings.productsThumbnailImagesSizingToggle?Object(p.a)({src:t.src,width:i.settings.productsThumbnailImagesSizingWidth,height:i.settings.productsThumbnailImagesSizingHeight,crop:i.settings.productsThumbnailImagesSizingCrop,scale:i.settings.productsThumbnailImagesSizingScale}):t.src}return Object(r.useEffect)(function(){x(F()),a&&S({type:"SET_FEAT_IMAGE_ELEMENT",payload:n.current})},[t]),!Object(f.b)()||Object(E.b)(h)||y.hasManyImages?T&&s.a.createElement(O,{imageRef:n,image:t,productImageSrc:T,shopState:i}):T&&s.a.createElement(d.a,{payload:y.payload,type:"products",shop:i},s.a.createElement(O,{imageRef:n,image:t,productImageSrc:T,shopState:i}))}function O(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{ref:e.imageRef,itemProp:"image",src:e.productImageSrc,className:"wps-product-image",alt:e.image.altText,"data-wps-is-ready":e.shopState.isShopReady?"1":"0","data-zoom":e.image.src}))}function h(e){var t=e.image,a=Object(r.useContext)(l.a),n=c()(a,1)[0],o=Object(r.useContext)(g),i=c()(o,2),m=i[0],p=i[1],d=Object(r.useContext)(u.a),f=c()(d,1)[0],E=(Object(r.useRef)(!0),Object(r.useState)(!1)),O=c()(E,2),h=O[0],I=O[1];function y(e){return e===t.src}return Object(r.useEffect)(function(){I(y(m.featImage.src))},[m.featImage]),Object(r.useEffect)(function(){f.selectedVariant&&(p({type:"SET_FEAT_IMAGE",payload:f.selectedVariant.image}),I(y(f.selectedVariant.image.src)))},[f.selectedVariant]),s.a.createElement("div",{className:"wps-component wps-component-products-images-thumbnail",onClick:function(){p({type:"SET_FEAT_IMAGE",payload:t})},"data-wps-is-active":h,"data-wps-is-ready":n.isShopReady},s.a.createElement(b,{isFeatured:!1,image:t}))}var I=a(164),y=a.n(I),j=a(45),w=a.n(j);function S(){var e=Object(r.useContext)(u.a),t=c()(e,1)[0];return t.payload&&!w()(t.payload.images)&&s.a.createElement("div",{className:"wps-thumbnails-wrapper"},t.payload.images.map(function(e){return s.a.createElement(h,{key:y()(),image:e})}))}var v=a(1376),C=a.n(v),T=a(1379);function x(){var e=Object(r.useRef)(),t=Object(r.useRef)(!0),a=Object(r.useContext)(l.a),n=c()(a,1)[0],o=Object(r.useContext)(m.a),i=c()(o,1)[0],p=Object(r.useContext)(u.a),d=c()(p,1)[0],f=Object(r.useContext)(g),E=c()(f,1)[0],O=Object(r.useState)(E.featImage),h=c()(O,2),I=h[0],y=h[1];return Object(r.useEffect)(function(){t.current?t.current=!1:E.featImage&&y(E.featImage)},[E.featImage]),Object(r.useEffect)(function(){if(t.current)t.current=!1;else if(I&&E.featImageElement&&(C()(i.componentOptions.showZoom)?n.settings.productsImagesShowZoom:i.componentOptions.showZoom)){var a=new T.a(E.featImageElement,{paneContainer:e.current,inlineOffsetX:-80});return function(){!function(e){e.destroy(),window.Drift=null,e=null}(a)}}},[E.featImageElement]),Object(r.useEffect)(function(){d.selectedVariant&&y(d.selectedVariant.image)},[d.selectedVariant]),s.a.createElement("div",{className:"wps-gallery-featured-wrapper",ref:e},s.a.createElement("div",{className:"wps-product-image-wrapper"},I?s.a.createElement(b,{isFeatured:!0,image:I}):s.a.createElement(b,{isFeatured:!0,image:E.featImagePlaceholder})))}var F=a(62),z=a.n(F),_=a(30),R=a.n(_),A=a(29),M=a.n(A);function N(e,t){switch(t.type){case"SET_FEAT_IMAGE":return R()({},e,{featImage:M()(e.featImage,{$set:t.payload})});case"SET_FEAT_IMAGE_ELEMENT":return R()({},e,{featImageElement:M()(e.featImageElement,{$set:t.payload})});default:throw new Error("Unhandled action type: ".concat(t.type," in ProductGalleryReducer"))}}function P(e){var t,a=s.a.useReducer(N,{featImage:!(!(t=e.productState).payload||!t.payload.images)&&t.payload.images[0],featImageElement:!1,featImagePlaceholder:{src:"",alt:"WP Shopify Placeholder Image"}}),n=c()(a,2),r=n[0],o=n[1],i=s.a.useMemo(function(){return[r,o]},[r]);return s.a.createElement(g.Provider,z()({value:i},e))}function G(){var e=Object(r.useContext)(m.a),t=c()(e,1)[0],a=Object(r.useContext)(u.a),n=c()(a,1)[0];return s.a.createElement(s.a.Fragment,null,s.a.createElement(P,{productState:n},i()(t.componentOptions,"showFeaturedOnly")&&t.componentOptions.showFeaturedOnly?s.a.createElement(x,null):n&&n.hasManyImages?s.a.createElement(s.a.Fragment,null,s.a.createElement(x,null),s.a.createElement(S,null)):s.a.createElement(x,null)))}var V=a(39),W=a(50);t.default=function(){var e=Object(r.useContext)(u.a),t=c()(e,1)[0],a=Object(r.useContext)(m.a),n=c()(a,1)[0];return Object(V.d)(s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"wps-component wps-component-products-images","data-wps-component-order":"0"},s.a.createElement(G,null))),Object(W.d)(t.element,n.componentOptions.dropzoneProductGallery))}}}]);