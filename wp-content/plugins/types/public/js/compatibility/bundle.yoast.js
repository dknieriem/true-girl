!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}({7:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Field=e,this.CollectionFactory=n}var e,n,o;return e=t,(n=[{key:"getValues",value:function(){throw new TypeError("Abstract method.")}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,c(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,o),n=e,(r=[{key:"getValues",value:function(){var t=document.getElementsByName(this.Field.getInputName());if(!t.length)return[];if(!(t=t[0]).selectedIndex)return[];var e=t.options[t.selectedIndex],n=this.CollectionFactory.createCollection(this.Field);return n.setTitle(e.value),n.setAttrHref(e.getAttribute("data-url")),[n]}}])&&u(n.prototype,r),i&&u(n,i),e}();function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,h(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,o),n=e,(r=[{key:"getValues",value:function(){var t=document.querySelectorAll("input[name^='"+this.Field.getInputName()+"']"),e=[];if(!t.length)return e;for(var n=0;n<t.length;n++)if(t[n].value){var r=t[n].parentElement.nextElementSibling;if(r&&r.classList.contains("js-wpt-file-preview")){var o=r.firstElementChild;if(o&&"img"===o.tagName.toLowerCase()){var i=this.CollectionFactory.createCollection(this.Field);i.setAttrSrc(t[n].value),i.setAttrAlt(o.getAttribute("alt")),i.setAttrTitle(o.getAttribute("title")),e.push(i)}}}return e}}])&&y(n.prototype,r),i&&y(n,i),e}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,w(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,o),n=e,(r=[{key:"getValues",value:function(){var t=document.getElementsByName(this.Field.getInputName());if(!t.length)return[];var e=this.CollectionFactory.createCollection(this.Field);if("undefined"!=typeof tinyMCE){var n=tinyMCE.get(t[0].id);if(n)return e.setValue(n.getContent()),[e]}return e.setValue(t[0].value),[e]}}])&&g(n.prototype,r),i&&g(n,i),e}();function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,T(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,o),n=e,(r=[{key:"getValues",value:function(){var t=document.querySelectorAll("textarea[name^='"+this.Field.getInputName()+"']"),e=[];if(!t.length)return e;for(var n=0;n<t.length;n++){var r=this.CollectionFactory.createCollection(this.Field);r.setValue(t[n].value),e.push(r)}return e}}])&&S(n.prototype,r),i&&S(n,i),e}();function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function A(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var V=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),A(this,N(e).apply(this,arguments))}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,o),n=e,(r=[{key:"getValues",value:function(){var t=document.querySelectorAll("input[name^='"+this.Field.getInputName()+"']"),e=[];if(!t.length)return e;for(var n=0;n<t.length;n++){var r=this.CollectionFactory.createCollection(this.Field);r.setValue(t[n].value),e.push(r)}return e}}])&&F(n.prototype,r),i&&F(n,i),e}();function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.CollectionFactory=e}var e,n,r;return e=t,(n=[{key:"createMiner",value:function(t){switch(t.getType()){case"wysiwyg":return new j(t,this.CollectionFactory);case"multi-line":return new E(t,this.CollectionFactory);case"image":return new v(t,this.CollectionFactory);case"post":return new f(t,this.CollectionFactory);default:return new V(t,this.CollectionFactory)}}}])&&H(e.prototype,n),r&&H(e,r),t}();function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var R=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getHtmlTagCharacters",value:function(){throw new TypeError("Abstract method.")}},{key:"getDecoratedValue",value:function(t){return"<"+this.getHtmlTagCharacters()+">"+t.getValue()+"</"+this.getHtmlTagCharacters()+">"}}])&&M(e.prototype,n),r&&M(e,r),t}();function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Q(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Q(this,B(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(e,R),n=e,(r=[{key:"getDecoratedValue",value:function(t){return t.getValue()}}])&&Y(n.prototype,r),o&&Y(n,o),e}();function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t,e,n){return e&&G(t.prototype,e),n&&G(t,n),t}function U(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function X(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=function(t){function e(){return z(this,e),U(this,W(e).apply(this,arguments))}return X(e,R),K(e,[{key:"getHtmlTagCharacters",value:function(){return"p"}}]),e}(),tt=function(t){function e(){return z(this,e),U(this,W(e).apply(this,arguments))}return X(e,R),K(e,[{key:"getHtmlTagCharacters",value:function(){return"h1"}}]),e}(),et=function(t){function e(){return z(this,e),U(this,W(e).apply(this,arguments))}return X(e,R),K(e,[{key:"getHtmlTagCharacters",value:function(){return"h2"}}]),e}(),nt=function(t){function e(){return z(this,e),U(this,W(e).apply(this,arguments))}return X(e,R),K(e,[{key:"getHtmlTagCharacters",value:function(){return"h3"}}]),e}(),rt=function(t){function e(){return z(this,e),U(this,W(e).apply(this,arguments))}return X(e,R),K(e,[{key:"getHtmlTagCharacters",value:function(){return"h4"}}]),e}(),ot=function(t){function e(){return z(this,e),U(this,W(e).apply(this,arguments))}return X(e,R),K(e,[{key:"getHtmlTagCharacters",value:function(){return"h5"}}]),e}(),it=function(t){function e(){return z(this,e),U(this,W(e).apply(this,arguments))}return X(e,R),K(e,[{key:"getHtmlTagCharacters",value:function(){return"h6"}}]),e}();function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lt(t,e,n){return e&&ct(t.prototype,e),n&&ct(t,n),t}function ft(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=function(t){function e(){return at(this,e),ft(this,st(e).apply(this,arguments))}return yt(e,R),lt(e,[{key:"isNoFollow",value:function(){return!1}},{key:"getDecoratedValue",value:function(t){var e=this.isNoFollow()?' rel="nofollow"':"";return t.hasOwnProperty("getAttrHref")&&t.hasOwnProperty("getTitle")?"<a"+e+' href="'+t.getAttrHref()+'">'+t.getTitle()+"</a>":"<a"+e+' href="'+t.getValue()+'">'+t.getValue()+"</a>"}}]),e}(),bt=function(t){function e(){return at(this,e),ft(this,st(e).apply(this,arguments))}return yt(e,ht),lt(e,[{key:"isNoFollow",value:function(){return!0}}]),e}();function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ot=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),gt(this,mt(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(e,R),n=e,(r=[{key:"getDecoratedValue",value:function(t){return'<img src="'+t.getAttrSrc()+'" alt="'+t.getAttrAlt()+'" title="'+t.getAttrTitle()+'" />'}}])&&dt(n.prototype,r),o&&dt(n,o),e}();function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.decorators={}}var e,n,r;return e=t,(n=[{key:"getDecorator",value:function(t){switch(t.getDisplayAs()){case"p":return this.decorators.paragraph=this.decorators.paragraph||new $,this.decorators.paragraph;case"h1":return this.decorators.headline1=this.decorators.headline1||new tt,this.decorators.headline1;case"h2":return this.decorators.headline2=this.decorators.headline2||new et,this.decorators.headline2;case"h3":return this.decorators.headline3=this.decorators.headline3||new nt,this.decorators.headline3;case"h4":return this.decorators.headline4=this.decorators.headline4||new rt,this.decorators.headline4;case"h5":return this.decorators.headline5=this.decorators.headline5||new ot,this.decorators.headline5;case"h6":return this.decorators.headline6=this.decorators.headline6||new it,this.decorators.headline6;case"img":return this.decorators.image=this.decorators.image||new Ot,this.decorators.image;case"link":return this.decorators.link=this.decorators.link||new ht,this.decorators.link;case"link-nofollow":return this.decorators.linknofollow=this.decorators.linknofollow||new bt,this.decorators.linknofollow;default:return this.decorators.raw=this.decorators.raw||new L,this.decorators.raw}}}])&&jt(e.prototype,n),r&&jt(e,r),t}();function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var kt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=""}var e,n,r;return e=t,(n=[{key:"setValue",value:function(t){this.value=this.normaliseInputToString(t)}},{key:"getValue",value:function(){return this.value}},{key:"normaliseInputToString",value:function(t){return null===t?"":String(t)}}])&&St(e.prototype,n),r&&St(e,r),t}();function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ct(t){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var At=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Et(this,Ct(e).call(this))).attrAlt="",t.attrTitle="",t.attrSrc="",t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ft(t,e)}(e,kt),n=e,(r=[{key:"setAttrAlt",value:function(t){this.attrAlt=this.normaliseInputToString(t)}},{key:"getAttrAlt",value:function(){return this.attrAlt}},{key:"setAttrTitle",value:function(t){this.attrTitle=this.normaliseInputToString(t)}},{key:"getAttrTitle",value:function(){return this.attrTitle}},{key:"setAttrSrc",value:function(t){this.attrSrc=this.normaliseInputToString(t)}},{key:"getAttrSrc",value:function(){return this.attrSrc}}])&&Pt(n.prototype,r),o&&Pt(n,o),e}();function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vt(t,e){return!e||"object"!==Nt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mt=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Vt(this,Ht(e).call(this))).title="",t.attrHref="",t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(e,kt),n=e,(r=[{key:"setTitle",value:function(t){this.title=this.normaliseInputToString(t)}},{key:"getTitle",value:function(){return this.title}},{key:"setAttrHref",value:function(t){this.attrHref=this.normaliseInputToString(t)}},{key:"getAttrHref",value:function(){return this.attrHref}}])&&xt(n.prototype,r),o&&xt(n,o),e}();function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Dt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"createCollection",value:function(t){switch(t.getType()){case"image":return new At;case"post":return new Mt;default:return new kt}}}])&&Rt(e.prototype,n),r&&Rt(e,r),t}();function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qt=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.slug=e,this.inputName=n,this.type=r,this.displayAs=o}var e,n,r;return e=t,(n=[{key:"getSlug",value:function(){return this.slug}},{key:"getInputName",value:function(){return this.inputName}},{key:"getDisplayAs",value:function(){return this.displayAs}},{key:"getType",value:function(){return this.type}}])&&Yt(e.prototype,n),r&&Yt(e,r),t}();function Bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var qt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getFields",value:function(){var t=jQuery.parseJSON(jQuery("#types_yoast_data").html()),e=this,n=[];return jQuery.each(t.fields,function(t,r){n.push(e.getFieldByArray(r))}),n}},{key:"getFieldByArray",value:function(t){return new Qt(t.slug,t.inputName,t.type,t.displayAs)}}])&&Bt(e.prototype,n),r&&Bt(e,r),t}();function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Jt=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pluginName="ToolsetTypesYoast",this.applyFieldEventsTimeout=null,this.Yoast=e,this.MinerFactory=n,this.DecoratorFactory=r,this.fields=[]}var e,n,r;return e=t,(n=[{key:"register",value:function(){this.Yoast.registerPlugin(this.pluginName,{status:"ready"})}},{key:"registerModifications",value:function(){var t=this;this.Yoast.registerModification("content",function(e){return t.extendContent(e)},this.pluginName,10)}},{key:"setFields",value:function(t){this.fields=[];for(var e=0;e<t.length;e++)this.addField(t[e])}},{key:"addField",value:function(t){t instanceof Qt&&(this.fields.push(t),this.applyFieldEvents())}},{key:"applyFieldEvents",value:function(){var t=this;clearTimeout(this.applyFieldEventsTimeout),this.applyFieldEventsTimeout=setTimeout(function(){t._applyFieldEvents()},500)}},{key:"_applyFieldEvents",value:function(){var t=this;if(jQuery("body").off("."+this.pluginName),this.fields.length){var e=this.fields.map(function(t){return"[name^='"+t.getInputName()+"']"}).join(", ");jQuery("body").on("change."+t.pluginName,e,function(){t.Yoast.pluginReloaded(t.pluginName)})}}},{key:"extendContent",value:function(t){var e=this;return this.fields.forEach(function(n){t=e._addFieldToContent(n,t)}),t}},{key:"_addFieldToContent",value:function(t,e){var n=this.MinerFactory.createMiner(t).getValues(),r=this.DecoratorFactory.getDecorator(t),o="";return n.forEach(function(t){o+=" "+r.getDecoratedValue(t)}),e+o}}])&&Lt(e.prototype,n),r&&Lt(e,r),t}();function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Gt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.FieldService=e,this.Plugin=n}var e,n,r;return e=t,(n=[{key:"run",value:function(){var t=this;this.Plugin.setFields(this.FieldService.getFields()),this.Plugin.register(),this.Plugin.registerModifications(),jQuery(document).on("toolset_types_yoast_add_field",function(e,n){t.Plugin.addField(t.FieldService.getFieldByArray(n))})}}])&&zt(e.prototype,n),r&&zt(e,r),t}();function Kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"ToolsetTypesYoast",function(){return Ut});var Ut=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"bootstrap",value:function(){if("undefined"!=typeof YoastSEO){var t=new Jt(YoastSEO.app,new I(new Dt),new _t);return new Gt(new qt,t).run(),!0}return!1}}])&&Kt(e.prototype,n),r&&Kt(e,r),t}();jQuery(document).ready(function(){(new Ut).bootstrap()})}});